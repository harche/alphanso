name: "Git Merge Conflict Resolution"
max_attempts: 5

# Working directory - example directory (pre-actions run here, then agent works in git-repos/fork)
working_directory: "."

# Pre-actions - setup repos and create conflict
pre_actions:
  - command: "bash setup.sh"
    description: "Setup git repositories with conflict"

  - command: "cd git-repos/fork && git fetch upstream"
    description: "Fetch upstream changes"

  - command: "cd git-repos/fork && git merge v2.0.0 || true"
    description: "Attempt merge (will conflict)"

# Validators - check for conflicts in fork directory
validators:
  - type: command
    name: "Git Conflict Check"
    command: "cd git-repos/fork && git diff --check"
    timeout: 10

# Agent configuration
agent:
  type: "claude-agent-sdk"
  claude:
    model: "claude-sonnet-4-5@20250929"
    system_prompt_file: "prompts/conflict-resolver.txt"

retry_strategy:
  type: hybrid
